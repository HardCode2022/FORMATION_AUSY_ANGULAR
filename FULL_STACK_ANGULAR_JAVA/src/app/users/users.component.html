<h1> {{pageTitle}}</h1>
<div class="alert alert-success" *ngIf='message'>{{message}}</div>
<div class="alert alert-success" *ngIf='noteMessage'>{{noteMessage}}</div>
<div class="container">
    <div class="row">
        <!-- <div class="col-md-3">
            <h4 class="form-title">Chercher un Nom</h4>
        </div> -->
        <div class="col-md-9">
            <div class="input-group">
                <span class="input-group-text border-0" id="search-addon">
                <i class="fas fa-search"></i>
                </span>
                <input type="search" class="form-control mr-sm-2" placeholder="Nom d'utilisateur..." [(ngModel)]='filtreUtilisateur'>
                <button type="submit" class=" btn btn-warning" (click)="ajouterUtilisateur()"> Ajouter un utilisateur</button>
                <button (click)="montrerNotes() " class="btn btn-info ">{{montrerNote? 'Cacher' : 'Montrer'}} les notes</button>
            </div>
        </div>
    </div>
</div>

<br>
<div class="container ">
    <table class="table " class="table table-striped " class="table table-bordered">
        <thead class="table-info ">
            <tr>
                <th>Identifiants</th>
                <th></th>
                <th>Nom</th>
                <th>Age</th>
                <th>Compétences</th>
                <th>Poste</th>
                <th *ngIf='montrerNote'>Note</th>
                <th>Nombre d'étoile</th>
            </tr>
        </thead>
        <tbody>
            <!--   for (Todo todo: todos) {  -->
            <tr *ngFor="let utilisateur of filtrerUsers ">
                <td>
                    {{utilisateur.id}}
                </td>
                <td>
                    <img [src]=' utilisateur.image ' [title]='utilisateur.nom ' [style.width.px]='imageWidth ' [style.margin.px]='imageMargin ' [style.size.px]='imageSize '>
                    <button (click)="mettreAjour(utilisateur.id)" class="btn btn-success ">Mettre à jour</button>
                    <button (click)="supprimer(utilisateur.id)" class="btn btn-danger ">Supprimer</button>
                </td>
                <td><a [routerLink]="['/users', utilisateur.id]">{{utilisateur.nom}} </a></td>
                <td>{{utilisateur.age}}</td>
                <td>
                    <span [outerHTML]="utilisateur.competences | usersPipe "></span>
                </td>
                <td>{{utilisateur.poste}}</td>
                <td *ngIf='montrerNote'>{{utilisateur.note}}</td>
                 <td>
                   <app-star [note]='utilisateur.note' (noteClik)='onRatingClicked($event)'></app-star>
                </td>
            </tr>

        </tbody>

    </table>

</div>
